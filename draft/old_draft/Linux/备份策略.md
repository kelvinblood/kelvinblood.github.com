Linux

中的备份策略

 

 

备份需要花费一定量的物力和财力，

如何在备份所取得的收益与备份消耗的资源上做一个权

衡是网络安全工作者需要考虑的一个大问题，因为支出大于产出也就意味着低效甚至失败。

所以在

Linux

环境中进行数据备份，

需要根据实际情况进行区分对待，

以取得比较好的效果。

特别是，需要对一些关键的目录进行区分，从而做到有针对性的备份，减少不必要的浪费。

 

 

一般情况下，以下所列目录是需要备份的，它们在系统中具有举足轻重的地位：

/etc

包含所

有核心配置文件，这其中包括密码文件、网络配置文件、系统名称、防火墙规则、

NFS

文件

系统配置文件以及其他全局系统项；

/var

包含系统守护进程

（服务）

所使用的信息，

包括

 

DNS 

配置、

DHCP 

租期、邮件缓冲文件、

HTTP 

服务器文件等；

/home

包含所有用户的默认用户

主目录，这包括他们的个人设置、已下载的文件和用户存放在系统中的重要的信息；

/root

是根（

root

）用户的主目录；

/bin

是存放许多系统中常用的诸如

ls

、

ps

等命令的重要场所，

这些命令在磁盘上均有影响，极容易遭受黑客的破坏。

 

 

相反地，在

Linux

系统中，如下目录是不应该备份的：

/proc

永远不需要备份，它不是一个

真实的文件系统，而是运行内核和环境的虚拟化视图，它包括诸如

 

/proc/cpuinfo

、

/proc/meminfo 

这样的文件，这个文件是整个运行内存的虚拟视图，一旦系统关机或者重新

启动，该目录下的信息便不复存在；

/dev

包含硬件设备的文件表示，如果计划还原到一个

空白的系统，那就可以备份

 

/dev

，如果计划还原到一个已安装的

Linux

系统，那么备份

/dev 

是没有必要的；

另外，

一些软链接

（也就是指向另外一些磁盘文件的文件）

是不需要备份的，

因为这些文件当中存储的只是被指向文件的地址，这些软链接文件，用户可以通过使用“

ls 

-l

”命令来判定，如下所示，其中

linux-2.4

即为一个软链接文件，它指向的是

linux-2.4.7-10

这个目录。

 

 

lrwxrwxrwx 1 root root 14 6

月

 

19 2004 linux-2.4 -> linux-2.4.7-10 

 

链

 

接

 

 

备份技术及基本分类

 

 

一般说来，建立一套完备的网络数据备份系统必须具备如下几个必要条件：

 

 

●

 

数据备份的容量都是比较大的，所以针对关键业务系统的数据备份需要实现自动化，以

减少系统管理员的工作量

 

；

 

 

●

 

以备份服务器形成备份中心，对各种平台的应用系统及其他信息数据进行集中的备份，

系统管理员可以在任意一台工作站上管理、监控、

配置备份系统，

实现分布处理，

集中管理

的特点；

 

 

●

 

用户可以比较方便和快捷地恢复损坏的整个文件系统和各类数据；

 

 

●

 

备份系统还应考虑网络带宽对备份性能的影响，备份服务器的平台选择及安全性，备份

系统容量的适度冗余，备份系统良好的扩展性等因素。

 

 

进行备份工作需要确定数据备份的策略。

备份策略指确定需备份的内容、

备份时间及备份方

式。

用户要根据自己的实际情况来制定不同的备份策略。

目前被采用最多的备份策略主要有

以下三种：

 

 

1

．完全备份

 

 

就是每天对系统进行完全备份。

这种备份策略的好处是：

当发生数据丢失的灾难时，

就可以

恢复丢失的数据。然而它亦有不足之处。

首先，由于每天都对整个系统进行完全备份，

造成

备份的数据大量重复。

这些重复的数据占用了大量的空间，

这对用户来说就意味着增加成本。

其次，

由于需要备份的数据量较大，

因此备份所需的时间也就较长。对于那些业务繁忙、备

份时间有限的用户和单位来说，

选择这种备份策略是不明智的。

并且，

由于备份的时间间隔

太小而造成的完全备份数目过多，造成硬件资源的大量浪费，也是很不必要的。

 

 

2

．增量备份

 

 

就是每天只对当天新的或被修改过的数据进行备份。

这种备份策略的优点是节省了存储介质

空间，缩短了备份时间。但它的缺点在于，当灾难发生时，数据的恢复比较麻烦。另外，这

种备份的可靠性也很差。

备份间隔中的数据是无法恢复的，

这就需要用户在指定备份间隔时

做适当的权衡，才能取得比较好的效果。

 

 

3

．差分备份

 

 

管理员先在最初

（例如星期天）

进行一次系统完全备份，

然后在接下来的几天里，

管理员再

将当天所有与星期天不同的数据

（新的或修改过的）

备份到磁介质上。

差分备份策略在避免

了以上两种策略的缺陷的同时，

又具有了它们的所有优点。

首先，

它无需每天都对系统做完

全备份，因此备份所需时间短，并节省了空间；其次，它的灾难恢复也很方便。

 

 

下期话题预报：

漏洞扫描就是对计算机系统或者其他网络设备进行安全相关的检测，

以找出

安全隐患和可被黑客利用的漏洞。

而

Nessus

是一个功能强大的免费远程安全扫描器，

下期，

李洋博士将讲述

Linux

系统中，如何使用

Nessus

工具进行漏洞扫描。


